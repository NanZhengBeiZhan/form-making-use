// 爱好调研
<template>
  <div class="form-generate">
    <fm-generate-form :data="parseJsonData" ref="generateForm"></fm-generate-form>
    <el-button type="primary" @click="handleSubmit">提交</el-button>
  </div>
</template>

<script>
export default {
  data() {
    return {
      jsonData: '{"list":[{"type":"grid","icon":"icon-grid-","columns":[{"span":12,"list":[{"type":"input","icon":"icon-input","options":{"width":"100%","defaultValue":"","required":false,"dataType":"string","pattern":"","placeholder":"","disabled":false,"remoteFunc":"func_1648801267000_66224"},"name":"单行文本","key":"1648801267000_66224","model":"input_1","rules":[{"type":"string","message":"单行文本格式不正确"}]}]},{"span":12,"list":[{"type":"input","icon":"icon-input","options":{"width":"100%","defaultValue":"","required":false,"dataType":"string","pattern":"","placeholder":"","disabled":false,"remoteFunc":"func_1648801268000_69539"},"name":"单行文本","key":"1648801268000_69539","model":"input_2","rules":[]}]}],"options":{"gutter":0,"justify":"start","align":"top","remoteFunc":"func_1648801265000_45048"},"name":"栅格布局","key":"1648801265000_45048","model":"grid_1648801265000_45048","rules":[]},{"type":"input","icon":"icon-input","options":{"width":"100%","defaultValue":"","required":false,"dataType":"string","pattern":"","placeholder":"","disabled":false,"remoteFunc":"func_1648801274000_28104"},"name":"单行文本","key":"1648801274000_28104","model":"input_3","rules":[]}],"config":{"labelWidth":150,"labelPosition":"left","size":"medium","customClass":""}}',
      // 无栅格 自定义区域
      // jsonData: '{"list":[{"type":"input","icon":"icon-input","options":{"width":"50%","defaultValue":"","required":true,"requiredMessage":"请输入姓名","dataType":"string","dataTypeCheck":false,"dataTypeMessage":"","pattern":"","patternCheck":false,"patternMessage":"","validatorCheck":false,"validator":"","placeholder":"请输入姓名","customClass":"el-input-name","disabled":false,"labelWidth":100,"isLabelWidth":false,"hidden":false,"dataBind":true,"showPassword":false,"remoteFunc":"func_xafk6e3e","remoteOption":"option_xafk6e3e","tableColumn":false,"hideLabel":false},"events":{"onChange":"","onFocus":"","onBlur":""},"name":"姓名","key":"xafk6e3e","model":"user_name","rules":[{"type":"string","message":"姓名格式不正确"},{"required":true,"message":"姓名必须填写"}]},{"type":"input","icon":"icon-input","options":{"width":"30%","defaultValue":"","required":false,"requiredMessage":"","dataType":"integer","dataTypeCheck":false,"dataTypeMessage":"","pattern":"","patternCheck":true,"patternMessage":"","validatorCheck":false,"validator":"","placeholder":"请输入年龄","customClass":"","disabled":false,"labelWidth":100,"isLabelWidth":false,"hidden":false,"dataBind":true,"showPassword":false,"remoteFunc":"func_0oeh9el6","remoteOption":"option_0oeh9el6","tableColumn":false},"events":{"onChange":"","onFocus":"","onBlur":""},"name":"年龄","key":"0oeh9el6","model":"user_age","rules":[{"type":"integer","message":"年龄格式不正确"}]},{"type":"color","icon":"icon-color","options":{"defaultValue":"","disabled":false,"showAlpha":false,"required":false,"requiredMessage":"","validatorCheck":false,"validator":"","customClass":"","labelWidth":100,"isLabelWidth":false,"hidden":false,"dataBind":true,"remoteFunc":"func_jsnzlbi5","remoteOption":"option_jsnzlbi5","tableColumn":false},"events":{"onChange":""},"name":"喜欢的颜色","key":"jsnzlbi5","model":"user_color","rules":[]},{"type":"textarea","icon":"icon-diy-com-textarea","options":{"width":"","defaultValue":"","required":false,"requiredMessage":"","disabled":false,"pattern":"","patternMessage":"","validatorCheck":false,"validator":"","placeholder":"请输入兴趣爱好","customClass":"","labelWidth":100,"isLabelWidth":false,"hidden":false,"dataBind":true,"remoteFunc":"func_6rls7g9c","remoteOption":"option_6rls7g9c","tableColumn":false},"events":{"onChange":"","onFocus":"","onBlur":""},"name":"兴趣爱好","key":"6rls7g9c","model":"user_advantage","rules":[]}],"config":{"labelWidth":120,"labelPosition":"right","size":"medium","customClass":"","ui":"element","layout":"horizontal","labelCol":3,"width":"100%","hideLabel":false,"hideErrorMessage":false,"eventScript":[{"key":"mounted","name":"mounted","func":""}],"dataSource":[{"key":"upload","name":"Get Upload Token","url":"https://tools-server.making.link/api/uptoken","method":"GET","auto":true,"responseFunc":"return res.uptoken;"},{"key":"getoptions","name":"Get Options","url":"https://tools-server.making.link/api/new/options","method":"GET","auto":true,"responseFunc":"return res.data;"}],"styleSheets":".el-input-name .el-form-item__label{color:red}"}}',
      // jsonData: '{"list":[{"type":"grid","icon":"icon-grid-","columns":[{"span":12,"list":[{"type":"input","icon":"icon-input","options":{"width":"100%","defaultValue":"","required":true,"dataType":"string","pattern":"","placeholder":"请输入姓名","disabled":false,"remoteFunc":"func_1648696632000_3408"},"name":"姓名","key":"1648696632000_3408","model":"user_name","rules":[{"type":"string","message":"姓名格式不正确"},{"required":true,"message":"姓名必须填写"}]}]},{"span":12,"list":[{"type":"input","icon":"icon-input","options":{"width":"100%","defaultValue":"","required":true,"dataType":"integer","pattern":"","placeholder":"请输入年龄","disabled":false,"remoteFunc":"func_1648696634000_19377"},"name":"年龄","key":"1648696634000_19377","model":"user_age","rules":[{"type":"integer","message":"年龄格式不正确"},{"required":true,"message":"年龄必须填写"}]}]}],"options":{"gutter":0,"justify":"start","align":"top","remoteFunc":"func_1648696630000_82746"},"name":"栅格布局","key":"1648696630000_82746","model":"grid_1648696630000_82746","rules":[]},{"type":"input","icon":"icon-input","options":{"width":"50%","defaultValue":"","required":true,"requiredMessage":"请输入姓名","dataType":"string","dataTypeCheck":false,"dataTypeMessage":"","pattern":"","patternCheck":false,"patternMessage":"","validatorCheck":false,"validator":"","placeholder":"请输入姓名","customClass":"el-input-name","disabled":false,"labelWidth":100,"isLabelWidth":false,"hidden":false,"dataBind":true,"showPassword":false,"remoteFunc":"func_xafk6e3e","remoteOption":"option_xafk6e3e","tableColumn":false,"hideLabel":false},"events":{"onChange":"","onFocus":"","onBlur":""},"name":"姓名","key":"xafk6e3e","model":"user_name","rules":[{"type":"string","message":"姓名格式不正确"},{"required":true,"message":"姓名必须填写"}]},{"type":"input","icon":"icon-input","options":{"width":"30%","defaultValue":"","required":false,"requiredMessage":"","dataType":"integer","dataTypeCheck":false,"dataTypeMessage":"","pattern":"","patternCheck":true,"patternMessage":"","validatorCheck":false,"validator":"","placeholder":"请输入年龄","customClass":"","disabled":false,"labelWidth":100,"isLabelWidth":false,"hidden":false,"dataBind":true,"showPassword":false,"remoteFunc":"func_0oeh9el6","remoteOption":"option_0oeh9el6","tableColumn":false},"events":{"onChange":"","onFocus":"","onBlur":""},"name":"年龄","key":"0oeh9el6","model":"user_age","rules":[{"type":"integer","message":"年龄格式不正确"}]},{"type":"color","icon":"icon-color","options":{"defaultValue":"","disabled":false,"showAlpha":false,"required":false,"requiredMessage":"","validatorCheck":false,"validator":"","customClass":"","labelWidth":100,"isLabelWidth":false,"hidden":false,"dataBind":true,"remoteFunc":"func_jsnzlbi5","remoteOption":"option_jsnzlbi5","tableColumn":false},"events":{"onChange":""},"name":"喜欢的颜色","key":"jsnzlbi5","model":"user_color","rules":[]},{"type":"textarea","icon":"icon-diy-com-textarea","options":{"width":"","defaultValue":"","required":false,"requiredMessage":"","disabled":false,"pattern":"","patternMessage":"","validatorCheck":false,"validator":"","placeholder":"请输入兴趣爱好","customClass":"","labelWidth":100,"isLabelWidth":false,"hidden":false,"dataBind":true,"remoteFunc":"func_6rls7g9c","remoteOption":"option_6rls7g9c","tableColumn":false},"events":{"onChange":"","onFocus":"","onBlur":""},"name":"兴趣爱好","key":"6rls7g9c","model":"user_advantage","rules":[]},{"type":"blank","icon":"icon-zidingyishuju","options":{"defaultType":"String","remoteFunc":"func_1648703941000_16331"},"name":"自定义区域","key":"1648703941000_16331","model":"blank","rules":[]}],"config":{"labelWidth":120,"labelPosition":"right","size":"medium","customClass":"","ui":"element","layout":"horizontal","labelCol":3,"width":"100%","hideLabel":false,"hideErrorMessage":false,"eventScript":[{"key":"mounted","name":"mounted","func":""}],"dataSource":[{"key":"upload","name":"Get Upload Token","url":"https://tools-server.making.link/api/uptoken","method":"GET","auto":true,"responseFunc":"return res.uptoken;"},{"key":"getoptions","name":"Get Options","url":"https://tools-server.making.link/api/new/options","method":"GET","auto":true,"responseFunc":"return res.data;"}],"styleSheets":".el-input-name .el-form-item__label{color:red}"}}',
    };
  },
  computed: {
    parseJsonData() {
      return JSON.parse(this.jsonData)
    }
  },
  methods: {
    handleSubmit() {
      this.$refs.generateForm
        .getData()
        .then((data) => {
          this.$alert(data, '表单数据');
        })
        .catch((e) => { });
    }
  }
};
</script>
<style scoped>
.form-generate {
  padding: 10px 20px;
}
</style>
